Hi! i have a KWS accelerator with the following Micro architecture and ISA. I have also included a copy of our python code for the KWS accelerator called inference0519. I would like to implement it on Caravel Harness, a SoC. The KWS accelerator will be in the user project area wrapper of Caravel Harness, interface with a RISC-V core via wishbone bus. My calculation is in 32 fixed point data in 1.7.24 format, with 1 bit for sign, 7 bit for integer and 24 bit for fractions. My input file is a tensor in the shape of 50x20. The ReLU module gets input from either Linear module or Batch Normalize module. It interfaces Linear module and Batch Normalize to get a input tensor, and give the CNN, dilated CNN and Linear module its output. The ReLU module is controlled by a FSM. I have attached my verilog code for FSM(kws_fsm.txt), CMVN module(cmvn.txt) and ISA(KWS_ISA32.txt) for the KWS accelerator. I have also attached the original python code for the KWS model. According to these, can you write me a code in verilog for the ReLU module?

This is the code i have for a ReLU module. Can you explain what it does? I have an input file called fromlinear.json, which i have attached to the chat as a txt version. Please implement the verilog code if needed. Can you create a python testbench in cocotb for me please? It has a debug module, saves the debug information as log and stores the final output.

Can you come up with a python test code for cocotb that test the Linear module? my data input came from a file called fromcmvn.json. The data format is 32 fixed-point 1.7.24. The test code needs to contain a debug module which tells me what it produces each iteration, the test code also produces a vvp file I can check in GKTwave , and an output .json file after the calculation. Please include a timeout for the testcode.

can you also write a makefile for me please? Here's an example
# Makefile
# defaults
SIM ?= icarus
TOPLEVEL_LANG ?= verilog
# Add your Verilog source files here
VERILOG_SOURCES += $(PWD)/cmvn.v
# Add your VHDL source files here
# VHDL_SOURCES += $(PWD)/my_vhdl_file.vhd
# TOPLEVEL is the name of the toplevel module in your Verilog or VHDL file
TOPLEVEL = cmvn
# MODULE is the basename of the Python test file
MODULE = test_cmvn
# include cocotb's make rules to take care of the simulator setup
include $(shell cocotb-config --makefiles)/Makefile.sim
